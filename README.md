# Credit Risk Project

The objective of this project is to model the expected default probability
and credit spread of a firm that is financing itself partly through debt
capital. In particular, I want to explore the impact of different
modelling assumptions to expected default probability and credit
spread, using a simulation-based approach. Please refer to the main pdf file
for the essay and related Python code snippets.


https://render.githubusercontent.com/render/math?math=%5Cdocumentclass%5B11pt%5D%7Barticle%7D%0A%0A%20%20%20%20%5Cusepackage%5Bbreakable%5D%7Btcolorbox%7D%0A%20%20%20%20%5Cusepackage%7Bparskip%7D%20%25%20Stop%20auto-indenting%20(to%20mimic%20markdown%20behaviour)%0A%20%20%20%20%0A%20%20%20%20%5Cusepackage%7Biftex%7D%0A%20%20%20%20%5CifPDFTeX%0A%20%20%20%20%09%5Cusepackage%5BT1%5D%7Bfontenc%7D%0A%20%20%20%20%09%5Cusepackage%7Bmathpazo%7D%0A%20%20%20%20%5Celse%0A%20%20%20%20%09%5Cusepackage%7Bfontspec%7D%0A%0A%5Cusepackage%7Bgraphicx%7D%0A%20%20%20%20%5Cfi%20%20%20%0A%0A%0A%0A%0A%20%20%20%20%25%20Basic%20figure%20setup%2C%20for%20now%20with%20no%20caption%20control%20since%20it%27s%20done%20automatically%20by%20Pandoc%20(which%20extracts%20!%5B%5D(path)%20syntax%20from%20Markdown).%0A%20%20%20%20%5Cusepackage%7Bgraphicx%7D%0A%20%20%20%20%25%20Maintain%20compatibility%20with%20old%20templates.%20Remove%20in%20nbconvert%206.0%0A%20%20%20%20%5Clet%5COldincludegraphics%5Cincludegraphics%0A%20%20%20%20%25%20Ensure%20that%20by%20default%2C%20figures%20have%20no%20caption%20(until%20we%20provide%20a%0A%20%20%20%20%25%20proper%20Figure%20object%20with%20a%20Caption%20API%20and%20a%20way%20to%20capture%20that%0A%20%20%20%20%25%20in%20the%20conversion%20process%20-%20todo).%0A%20%20%20%20%5Cusepackage%7Bcaption%7D%0A%20%20%20%20%5Cusepackage%5Bstyle%3Dauthoryear%5D%7Bbiblatex%7D%0A%20%20%20%20%5Caddbibresource%7Bbibliography%2Fbb.bib%7D%0A%20%20%20%20%25%5CDeclareCaptionFormat%7Bnocaption%7D%7B%7D%0A%20%20%20%20%25%5Ccaptionsetup%7Bformat%3Dnocaption%2Caboveskip%3D0pt%2Cbelowskip%3D0pt%7D%0A%20%20%20%20%5Cusepackage%7Bbbm%7D%0A%20%20%20%20%5Cusepackage%7Brelsize%7D%0A%20%20%20%20%5Cusepackage%5BExport%5D%7Badjustbox%7D%20%25%20Used%20to%20constrain%20images%20to%20a%20maximum%20size%0A%20%20%20%20%5Cadjustboxset%7Bmax%20size%3D%7B0.9%5Clinewidth%7D%7B0.9%5Cpaperheight%7D%7D%0A%20%20%20%20%5Cusepackage%7Bxfrac%7D%0A%20%20%20%20%5Cusepackage%7Blistings%7D%0A%20%20%20%20%5Cusepackage%7Bminted%7D%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%5Cnewminted%7Bpython%7D%7B%25%0A%20%20%20%20%25%20options%20to%20customize%20output%20of%20pythoncode%0A%20%20%20%20%25%20see%20section%205.3%20Available%20options%20starting%20at%20page%2016%0A%7D%0A%0A%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%20section%20to%20define%20the%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%20way%20code%20snippets%20look%20like%0A%5Cusepackage%7Btcolorbox%7D%0A%5Ctcbuselibrary%7Bminted%2Cbreakable%2Cxparse%2Cskins%7D%0A%0A%5Cdefinecolor%7Bbg%7D%7Bgray%7D%7B0.95%7D%0A%5CDeclareTCBListing%7Bmintedbox%7D%7BO%7B%7Dm!O%7B%7D%7D%7B%25%0A%20%20breakable%3Dtrue%2C%0A%20%20listing%20engine%3Dminted%2C%0A%20%20listing%20only%2C%0A%20%20minted%20language%3D%232%2C%0A%20%20minted%20style%3Ddefault%2C%0A%20%20minted%20options%3D%7B%25%0A%20%20%20%20linenos%2C%0A%20%20%20%20gobble%3D0%2C%0A%20%20%20%20breaklines%3Dtrue%2C%0A%20%20%20%20breakafter%3D%2C%2C%0A%20%20%20%20fontsize%3D%5Csmall%2C%0A%20%20%20%20numbersep%3D8pt%2C%0A%20%20%20%20%231%7D%2C%0A%20%20boxsep%3D0pt%2C%0A%20%20left%20skip%3D0pt%2C%0A%20%20right%20skip%3D0pt%2C%0A%20%20left%3D25pt%2C%0A%20%20right%3D0pt%2C%0A%20%20top%3D3pt%2C%0A%20%20bottom%3D3pt%2C%0A%20%20arc%3D5pt%2C%0A%20%20leftrule%3D0pt%2C%0A%20%20rightrule%3D0pt%2C%0A%20%20bottomrule%3D2pt%2C%0A%20%20toprule%3D2pt%2C%0A%20%20colback%3Dbg%2C%0A%20%20colframe%3Dorange!70%2C%0A%20%20enhanced%2C%0A%20%20overlay%3D%7B%25%0A%20%20%20%20%5Cbegin%7Btcbclipinterior%7D%0A%20%20%20%20%5Cfill%5Borange!20!white%5D%20(frame.south%20west)%20rectangle%20(%5Bxshift%3D20pt%5Dframe.north%20west)%3B%0A%20%20%20%20%5Cend%7Btcbclipinterior%7D%7D%2C%0A%20%20%233%7D%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%20end%20of%20section%20about%20code%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%20snippets%0A%20%20%0A%0A%20%20%20%20%5Cusepackage%7Bbbm%7D%0A%20%20%20%20%5Cusepackage%7Bbooktabs%7D%0A%20%20%20%20%5Cusepackage%7Bmathtools%7D%0A%20%20%20%20%5Cusepackage%7Bcancel%7D%0A%20%20%20%20%5Cusepackage%7Bfloat%7D%0A%20%20%20%20%5Cfloatplacement%7Bfigure%7D%7BH%7D%20%25%20forces%20figures%20to%20be%20placed%20at%20the%20correct%20location%0A%20%20%20%20%5Cusepackage%7Bxcolor%7D%20%25%20Allow%20colors%20to%20be%20defined%0A%20%20%20%20%5Cusepackage%7Benumerate%7D%20%25%20Needed%20for%20markdown%20enumerations%20to%20work%0A%20%20%20%20%5Cusepackage%7Bgeometry%7D%20%25%20Used%20to%20adjust%20the%20document%20margins%0A%20%20%20%20%5Cusepackage%7Bamsmath%7D%20%25%20Equations%0A%20%20%20%20%5CDeclareMathOperator*%7B%5Cplim%7D%7Bplim%7D%0A%20%20%20%20%5Cusepackage%7Bamssymb%7D%20%25%20Equations%0A%20%20%20%20%5Cusepackage%7Btextcomp%7D%20%25%20defines%20textquotesingle%0A%20%20%20%20%25%20Hack%20from%20http%3A%2F%2Ftex.stackexchange.com%2Fa%2F47451%2F13684%3A%0A%20%20%20%20%5CAtBeginDocument%7B%25%0A%20%20%20%20%20%20%20%20%5Cdef%5CPYZsq%7B%5Ctextquotesingle%7D%25%20Upright%20quotes%20in%20Pygmentized%20code%0A%20%20%20%20%7D%0A%20%20%20%20%5Cusepackage%7Bupquote%7D%20%25%20Upright%20quotes%20for%20verbatim%20code%0A%20%20%20%20%5Cusepackage%7Beurosym%7D%20%25%20defines%20%5Ceuro%0A%20%20%20%20%25%5Cusepackage%5Bmathletters%5D%7Bucs%7D%20%25%20Extended%20unicode%20(utf-8)%20support%0A%20%20%20%20%5Cusepackage%7Bfancyvrb%7D%20%25%20verbatim%20replacement%20that%20allows%20latex%0A%20%20%20%20%5Cusepackage%7Bgrffile%7D%20%25%20extends%20the%20file%20name%20processing%20of%20package%20graphics%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%25%20to%20support%20a%20larger%20range%0A%20%20%20%20%5Cmakeatletter%20%25%20fix%20for%20grffile%20with%20XeLaTeX%0A%20%20%20%20%5Cdef%5CGread%40%40xetex%231%7B%25%0A%20%20%20%20%20%20%5CIfFileExists%7B"%5CGin%40base".bb%7D%25%0A%20%20%20%20%20%20%7B%5CGread%40eps%7B%5CGin%40base.bb%7D%7D%25%0A%20%20%20%20%20%20%7B%5CGread%40%40xetex%40aux%231%7D%25%0A%20%20%20%20%7D%0A%20%20%20%20%5Cmakeatother%0A%0A%20%20%20%20%25%20The%20hyperref%20package%20gives%20us%20a%20pdf%20with%20properly%20built%0A%20%20%20%20%25%20internal%20navigation%20(%27pdf%20bookmarks%27%20for%20the%20table%20of%20contents%2C%0A%20%20%20%20%25%20internal%20cross-reference%20links%2C%20web%20links%20for%20URLs%2C%20etc.)%0A%20%20%20%20%5Cusepackage%7Bhyperref%7D%0A%20%20%20%20%25%20The%20default%20LaTeX%20title%20has%20an%20obnoxious%20amount%20of%20whitespace.%20By%20default%2C%0A%20%20%20%20%25%20titling%20removes%20some%20of%20it.%20It%20also%20provides%20customization%20options.%0A%20%20%20%20%5Cusepackage%7Btitling%7D%0A%20%20%20%20%5Cusepackage%7Blongtable%7D%20%25%20longtable%20support%20required%20by%20pandoc%20%3E1.10%0A%20%20%20%20%5Cusepackage%7Bbooktabs%7D%20%20%25%20table%20support%20for%20pandoc%20%3E%201.12.2%0A%20%20%20%20%5Cusepackage%5Binline%5D%7Benumitem%7D%20%25%20IRkernel%2Frepr%20support%20(it%20uses%20the%20enumerate*%20environment)%0A%20%20%20%20%5Cusepackage%5Bnormalem%5D%7Bulem%7D%20%25%20ulem%20is%20needed%20to%20support%20strikethroughs%20(%5Csout)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%25%20normalem%20makes%20italics%20be%20italics%2C%20not%20underlines%0A%20%20%20%20%5Cusepackage%7Bmathrsfs%7D%0A%20%20%20%20%0A%0A%20%20%20%20%0A%20%20%20%20%25%20Colors%20for%20the%20hyperref%20package%0A%20%20%20%20%5Cdefinecolor%7Burlcolor%7D%7Brgb%7D%7B0%2C.145%2C.698%7D%0A%20%20%20%20%5Cdefinecolor%7Blinkcolor%7D%7Brgb%7D%7B.71%2C0.21%2C0.01%7D%0A%20%20%20%20%5Cdefinecolor%7Bcitecolor%7D%7Brgb%7D%7B.12%2C.54%2C.11%7D%0A%0A%20%20%20%20%25%20ANSI%20colors%0A%20%20%20%20%5Cdefinecolor%7Bansi-black%7D%7BHTML%7D%7B3E424D%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-black-intense%7D%7BHTML%7D%7B282C36%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-red%7D%7BHTML%7D%7BE75C58%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-red-intense%7D%7BHTML%7D%7BB22B31%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-green%7D%7BHTML%7D%7B00A250%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-green-intense%7D%7BHTML%7D%7B007427%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-yellow%7D%7BHTML%7D%7BDDB62B%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-yellow-intense%7D%7BHTML%7D%7BB27D12%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-blue%7D%7BHTML%7D%7B208FFB%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-blue-intense%7D%7BHTML%7D%7B0065CA%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-magenta%7D%7BHTML%7D%7BD160C4%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-magenta-intense%7D%7BHTML%7D%7BA03196%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-cyan%7D%7BHTML%7D%7B60C6C8%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-cyan-intense%7D%7BHTML%7D%7B258F8F%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-white%7D%7BHTML%7D%7BC5C1B4%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-white-intense%7D%7BHTML%7D%7BA1A6B2%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-default-inverse-fg%7D%7BHTML%7D%7BFFFFFF%7D%0A%20%20%20%20%5Cdefinecolor%7Bansi-default-inverse-bg%7D%7BHTML%7D%7B000000%7D%0A%0A%20%20%20%20%25%20commands%20and%20environments%20needed%20by%20pandoc%20snippets%0A%20%20%20%20%25%20extracted%20from%20the%20output%20of%20%60pandoc%20-s%60%0A%20%20%20%20%5Cprovidecommand%7B%5Ctightlist%7D%7B%25%0A%20%20%20%20%20%20%5Csetlength%7B%5Citemsep%7D%7B0pt%7D%5Csetlength%7B%5Cparskip%7D%7B0pt%7D%7D%0A%20%20%20%20%5CDefineVerbatimEnvironment%7BHighlighting%7D%7BVerbatim%7D%7Bcommandchars%3D%5C%5C%5C%7B%5C%7D%7D%0A%20%20%20%20%25%20Add%20%27%2Cfontsize%3D%5Csmall%27%20for%20more%20characters%20per%20line%0A%20%20%20%20%5Cnewenvironment%7BShaded%7D%7B%7D%7B%7D%0A%20%20%20%20%5Cnewcommand%7B%5CKeywordTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.44%2C0.13%7D%7B%5Ctextbf%7B%7B%231%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CDataTypeTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.56%2C0.13%2C0.00%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CDecValTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.63%2C0.44%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CBaseNTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.63%2C0.44%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CFloatTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.63%2C0.44%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CCharTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.44%2C0.63%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CStringTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.44%2C0.63%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CCommentTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.38%2C0.63%2C0.69%7D%7B%5Ctextit%7B%7B%231%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5COtherTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.44%2C0.13%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CAlertTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B1.00%2C0.00%2C0.00%7D%7B%5Ctextbf%7B%7B%231%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CFunctionTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.02%2C0.16%2C0.49%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CRegionMarkerTok%7D%5B1%5D%7B%7B%231%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CErrorTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B1.00%2C0.00%2C0.00%7D%7B%5Ctextbf%7B%7B%231%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CNormalTok%7D%5B1%5D%7B%7B%231%7D%7D%0A%20%20%20%20%0A%20%20%20%20%25%20Additional%20commands%20for%20more%20recent%20versions%20of%20Pandoc%0A%20%20%20%20%5Cnewcommand%7B%5CConstantTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.53%2C0.00%2C0.00%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CSpecialCharTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.44%2C0.63%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CVerbatimStringTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.44%2C0.63%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CSpecialStringTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.40%2C0.53%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CImportTok%7D%5B1%5D%7B%7B%231%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CDocumentationTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%5Ctextit%7B%7B%231%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CAnnotationTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.38%2C0.63%2C0.69%7D%7B%5Ctextbf%7B%5Ctextit%7B%7B%231%7D%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CCommentVarTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.38%2C0.63%2C0.69%7D%7B%5Ctextbf%7B%5Ctextit%7B%7B%231%7D%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CVariableTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.10%2C0.09%2C0.49%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CControlFlowTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.44%2C0.13%7D%7B%5Ctextbf%7B%7B%231%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5COperatorTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CBuiltInTok%7D%5B1%5D%7B%7B%231%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CExtensionTok%7D%5B1%5D%7B%7B%231%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CPreprocessorTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.74%2C0.48%2C0.00%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CAttributeTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.49%2C0.56%2C0.16%7D%7B%7B%231%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CInformationTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.38%2C0.63%2C0.69%7D%7B%5Ctextbf%7B%5Ctextit%7B%7B%231%7D%7D%7D%7D%7D%0A%20%20%20%20%5Cnewcommand%7B%5CWarningTok%7D%5B1%5D%7B%5Ctextcolor%5Brgb%5D%7B0.38%2C0.63%2C0.69%7D%7B%5Ctextbf%7B%5Ctextit%7B%7B%231%7D%7D%7D%7D%7D%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%25%20Define%20a%20nice%20break%20command%20that%20doesn%27t%20care%20if%20a%20line%20doesn%27t%20already%0A%20%20%20%20%25%20exist.%0A%20%20%20%20%5Cdef%5Cbr%7B%5Chspace*%7B%5Cfill%7D%20%5C%5C*%20%7D%0A%20%20%20%20%25%20Math%20Jax%20compatibility%20definitions%0A%20%20%20%20%5Cdef%5Cgt%7B%3E%7D%0A%20%20%20%20%5Cdef%5Clt%7B%3C%7D%0A%20%20%20%20%5Clet%5COldtex%5CTeX%0A%20%20%20%20%5Clet%5COldlatex%5CLaTeX%0A%20%20%20%20%5Crenewcommand%7B%5CTeX%7D%7B%5Ctextrm%7B%5COldtex%7D%7D%0A%20%20%20%20%5Crenewcommand%7B%5CLaTeX%7D%7B%5Ctextrm%7B%5COldlatex%7D%7D%0A%20%20%20%20%25%20Document%20parameters%0A%20%20%20%20%25%20Document%20title%0A%20%20%20%20%5Ctitle%7BEmpirical%20Finance%5C_Coursework%5C_v0.1%7D%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%25%20Pygments%20definitions%0A%5Cmakeatletter%0A%5Cdef%5CPY%40reset%7B%5Clet%5CPY%40it%3D%5Crelax%20%5Clet%5CPY%40bf%3D%5Crelax%25%0A%20%20%20%20%5Clet%5CPY%40ul%3D%5Crelax%20%5Clet%5CPY%40tc%3D%5Crelax%25%0A%20%20%20%20%5Clet%5CPY%40bc%3D%5Crelax%20%5Clet%5CPY%40ff%3D%5Crelax%7D%0A%5Cdef%5CPY%40tok%231%7B%5Ccsname%20PY%40tok%40%231%5Cendcsname%7D%0A%5Cdef%5CPY%40toks%231%2B%7B%5Cifx%5Crelax%231%5Cempty%5Celse%25%0A%20%20%20%20%5CPY%40tok%7B%231%7D%5Cexpandafter%5CPY%40toks%5Cfi%7D%0A%5Cdef%5CPY%40do%231%7B%5CPY%40bc%7B%5CPY%40tc%7B%5CPY%40ul%7B%25%0A%20%20%20%20%5CPY%40it%7B%5CPY%40bf%7B%5CPY%40ff%7B%231%7D%7D%7D%7D%7D%7D%7D%0A%5Cdef%5CPY%231%232%7B%5CPY%40reset%5CPY%40toks%231%2B%5Crelax%2B%5CPY%40do%7B%232%7D%7D%0A%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40w%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.73%2C0.73%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40c%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.50%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40cp%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.74%2C0.48%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40k%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40kp%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40kt%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.69%2C0.00%2C0.25%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40o%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40ow%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.67%2C0.13%2C1.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nb%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nf%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.00%2C1.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nc%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.00%2C1.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nn%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.00%2C1.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40ne%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.82%2C0.25%2C0.23%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nv%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.10%2C0.09%2C0.49%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40no%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.53%2C0.00%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nl%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.63%2C0.63%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40ni%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.60%2C0.60%2C0.60%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40na%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.49%2C0.56%2C0.16%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nt%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40nd%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.67%2C0.13%2C1.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40s%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40sd%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40si%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.40%2C0.53%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40se%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.40%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40sr%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.40%2C0.53%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40ss%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.10%2C0.09%2C0.49%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40sx%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40m%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gh%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.00%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gu%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.50%2C0.00%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gd%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.63%2C0.00%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gi%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.63%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gr%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B1.00%2C0.00%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40ge%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gs%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gp%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.00%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40go%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.53%2C0.53%2C0.53%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40gt%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.27%2C0.87%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40err%5Cendcsname%7B%5Cdef%5CPY%40bc%23%231%7B%5Csetlength%7B%5Cfboxsep%7D%7B0pt%7D%5Cfcolorbox%5Brgb%5D%7B1.00%2C0.00%2C0.00%7D%7B1%2C1%2C1%7D%7B%5Cstrut%20%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40kc%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40kd%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40kn%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40kr%5Cendcsname%7B%5Clet%5CPY%40bf%3D%5Ctextbf%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40bp%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.50%2C0.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40fm%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.00%2C0.00%2C1.00%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40vc%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.10%2C0.09%2C0.49%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40vg%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.10%2C0.09%2C0.49%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40vi%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.10%2C0.09%2C0.49%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40vm%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.10%2C0.09%2C0.49%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40sa%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40sb%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40sc%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40dl%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40s2%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40sh%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40s1%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.73%2C0.13%2C0.13%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40mb%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40mf%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40mh%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40mi%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40il%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40mo%5Cendcsname%7B%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.40%2C0.40%2C0.40%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40ch%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.50%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40cm%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.50%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40cpf%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.50%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40c1%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.50%2C0.50%7D%7B%23%231%7D%7D%7D%0A%5Cexpandafter%5Cdef%5Ccsname%20PY%40tok%40cs%5Cendcsname%7B%5Clet%5CPY%40it%3D%5Ctextit%5Cdef%5CPY%40tc%23%231%7B%5Ctextcolor%5Brgb%5D%7B0.25%2C0.50%2C0.50%7D%7B%23%231%7D%7D%7D%0A%0A%5Cdef%5CPYZbs%7B%5Cchar%60%5C%5C%7D%0A%5Cdef%5CPYZus%7B%5Cchar%60%5C_%7D%0A%5Cdef%5CPYZob%7B%5Cchar%60%5C%7B%7D%0A%5Cdef%5CPYZcb%7B%5Cchar%60%5C%7D%7D%0A%5Cdef%5CPYZca%7B%5Cchar%60%5C%5E%7D%0A%5Cdef%5CPYZam%7B%5Cchar%60%5C%26%7D%0A%5Cdef%5CPYZlt%7B%5Cchar%60%5C%3C%7D%0A%5Cdef%5CPYZgt%7B%5Cchar%60%5C%3E%7D%0A%5Cdef%5CPYZsh%7B%5Cchar%60%5C%23%7D%0A%5Cdef%5CPYZpc%7B%5Cchar%60%5C%25%7D%0A%5Cdef%5CPYZdl%7B%5Cchar%60%5C%24%7D%0A%5Cdef%5CPYZhy%7B%5Cchar%60%5C-%7D%0A%5Cdef%5CPYZsq%7B%5Cchar%60%5C%27%7D%0A%5Cdef%5CPYZdq%7B%5Cchar%60%5C"%7D%0A%5Cdef%5CPYZti%7B%5Cchar%60%5C~%7D%0A%25%20for%20compatibility%20with%20earlier%20versions%0A%5Cdef%5CPYZat%7B%40%7D%0A%5Cdef%5CPYZlb%7B%5B%7D%0A%5Cdef%5CPYZrb%7B%5D%7D%0A%5Cmakeatother%0A%0A%0A%20%20%20%20%25%20For%20linebreaks%20inside%20Verbatim%20environment%20from%20package%20fancyvrb.%20%0A%20%20%20%20%5Cmakeatletter%0A%20%20%20%20%20%20%20%20%5Cnewbox%5CWrappedcontinuationbox%20%0A%20%20%20%20%20%20%20%20%5Cnewbox%5CWrappedvisiblespacebox%20%0A%20%20%20%20%20%20%20%20%5Cnewcommand*%5CWrappedvisiblespace%20%7B%5Ctextcolor%7Bred%7D%7B%5Ctextvisiblespace%7D%7D%20%0A%20%20%20%20%20%20%20%20%5Cnewcommand*%5CWrappedcontinuationsymbol%20%7B%5Ctextcolor%7Bred%7D%7B%5Cllap%7B%5Ctiny%24%5Cm%40th%5Chookrightarrow%24%7D%7D%7D%20%0A%20%20%20%20%20%20%20%20%5Cnewcommand*%5CWrappedcontinuationindent%20%7B3ex%20%7D%20%0A%20%20%20%20%20%20%20%20%5Cnewcommand*%5CWrappedafterbreak%20%7B%5Ckern%5CWrappedcontinuationindent%5Ccopy%5CWrappedcontinuationbox%7D%20%0A%20%20%20%20%20%20%20%20%25%20Take%20advantage%20of%20the%20already%20applied%20Pygments%20mark-up%20to%20insert%20%0A%20%20%20%20%20%20%20%20%25%20potential%20linebreaks%20for%20TeX%20processing.%20%0A%20%20%20%20%20%20%20%20%25%20%20%20%20%20%20%20%20%7B%2C%20%3C%2C%20%23%2C%20%25%2C%20%24%2C%20%27%20and%20"%3A%20go%20to%20next%20line.%20%0A%20%20%20%20%20%20%20%20%25%20%20%20%20%20%20%20%20_%2C%20%7D%2C%20%5E%2C%20%26%2C%20%3E%2C%20-%20and%20~%3A%20stay%20at%20end%20of%20broken%20line.%20%0A%20%20%20%20%20%20%20%20%25%20Use%20of%20%5Ctextquotesingle%20for%20straight%20quote.%20%0A%20%20%20%20%20%20%20%20%5Cnewcommand*%5CWrappedbreaksatspecials%20%7B%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZus%7B%5Cdiscretionary%7B%5Cchar%60%5C_%7D%7B%5CWrappedafterbreak%7D%7B%5Cchar%60%5C_%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZob%7B%5Cdiscretionary%7B%7D%7B%5CWrappedafterbreak%5Cchar%60%5C%7B%7D%7B%5Cchar%60%5C%7B%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZcb%7B%5Cdiscretionary%7B%5Cchar%60%5C%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Cchar%60%5C%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZca%7B%5Cdiscretionary%7B%5Cchar%60%5C%5E%7D%7B%5CWrappedafterbreak%7D%7B%5Cchar%60%5C%5E%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZam%7B%5Cdiscretionary%7B%5Cchar%60%5C%26%7D%7B%5CWrappedafterbreak%7D%7B%5Cchar%60%5C%26%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZlt%7B%5Cdiscretionary%7B%7D%7B%5CWrappedafterbreak%5Cchar%60%5C%3C%7D%7B%5Cchar%60%5C%3C%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZgt%7B%5Cdiscretionary%7B%5Cchar%60%5C%3E%7D%7B%5CWrappedafterbreak%7D%7B%5Cchar%60%5C%3E%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZsh%7B%5Cdiscretionary%7B%7D%7B%5CWrappedafterbreak%5Cchar%60%5C%23%7D%7B%5Cchar%60%5C%23%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZpc%7B%5Cdiscretionary%7B%7D%7B%5CWrappedafterbreak%5Cchar%60%5C%25%7D%7B%5Cchar%60%5C%25%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZdl%7B%5Cdiscretionary%7B%7D%7B%5CWrappedafterbreak%5Cchar%60%5C%24%7D%7B%5Cchar%60%5C%24%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZhy%7B%5Cdiscretionary%7B%5Cchar%60%5C-%7D%7B%5CWrappedafterbreak%7D%7B%5Cchar%60%5C-%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZsq%7B%5Cdiscretionary%7B%7D%7B%5CWrappedafterbreak%5Ctextquotesingle%7D%7B%5Ctextquotesingle%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZdq%7B%5Cdiscretionary%7B%7D%7B%5CWrappedafterbreak%5Cchar%60%5C"%7D%7B%5Cchar%60%5C"%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdef%5CPYGZti%7B%5Cdiscretionary%7B%5Cchar%60%5C~%7D%7B%5CWrappedafterbreak%7D%7B%5Cchar%60%5C~%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%25%20Some%20characters%20.%20%2C%20%3B%20%3F%20!%20%2F%20are%20not%20pygmentized.%20%0A%20%20%20%20%20%20%20%20%25%20This%20macro%20makes%20them%20"active"%20and%20they%20will%20insert%20potential%20linebreaks%20%0A%20%20%20%20%20%20%20%20%5Cnewcommand*%5CWrappedbreaksatpunct%20%7B%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C.%5Clowercase%7B%5Cdef~%7D%7B%5Cdiscretionary%7B%5Chbox%7B%5Cchar%60%5C.%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Chbox%7B%5Cchar%60%5C.%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C%2C%5Clowercase%7B%5Cdef~%7D%7B%5Cdiscretionary%7B%5Chbox%7B%5Cchar%60%5C%2C%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Chbox%7B%5Cchar%60%5C%2C%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C%3B%5Clowercase%7B%5Cdef~%7D%7B%5Cdiscretionary%7B%5Chbox%7B%5Cchar%60%5C%3B%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Chbox%7B%5Cchar%60%5C%3B%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C%3A%5Clowercase%7B%5Cdef~%7D%7B%5Cdiscretionary%7B%5Chbox%7B%5Cchar%60%5C%3A%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Chbox%7B%5Cchar%60%5C%3A%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C%3F%5Clowercase%7B%5Cdef~%7D%7B%5Cdiscretionary%7B%5Chbox%7B%5Cchar%60%5C%3F%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Chbox%7B%5Cchar%60%5C%3F%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C!%5Clowercase%7B%5Cdef~%7D%7B%5Cdiscretionary%7B%5Chbox%7B%5Cchar%60%5C!%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Chbox%7B%5Cchar%60%5C!%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C%2F%5Clowercase%7B%5Cdef~%7D%7B%5Cdiscretionary%7B%5Chbox%7B%5Cchar%60%5C%2F%7D%7D%7B%5CWrappedafterbreak%7D%7B%5Chbox%7B%5Cchar%60%5C%2F%7D%7D%7D%25%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccatcode%60%5C.%5Cactive%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccatcode%60%5C%2C%5Cactive%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccatcode%60%5C%3B%5Cactive%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccatcode%60%5C%3A%5Cactive%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccatcode%60%5C%3F%5Cactive%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccatcode%60%5C!%5Cactive%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccatcode%60%5C%2F%5Cactive%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Clccode%60%5C~%60%5C~%20%09%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5Cmakeatother%0A%0A%20%20%20%20%5Clet%5COriginalVerbatim%3D%5CVerbatim%0A%20%20%20%20%5Cmakeatletter%0A%20%20%20%20%5Crenewcommand%7B%5CVerbatim%7D%5B1%5D%5B1%5D%7B%25%0A%20%20%20%20%20%20%20%20%25%5Cparskip%5Cz%40skip%0A%20%20%20%20%20%20%20%20%5Csbox%5CWrappedcontinuationbox%20%7B%5CWrappedcontinuationsymbol%7D%25%0A%20%20%20%20%20%20%20%20%5Csbox%5CWrappedvisiblespacebox%20%7B%5CFV%40SetupFont%5CWrappedvisiblespace%7D%25%0A%20%20%20%20%20%20%20%20%5Cdef%5CFancyVerbFormatLine%20%23%231%7B%5Chsize%5Clinewidth%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cvtop%7B%5Craggedright%5Chyphenpenalty%5Cz%40%5Cexhyphenpenalty%5Cz%40%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Cdoublehyphendemerits%5Cz%40%5Cfinalhyphendemerits%5Cz%40%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Cstrut%20%23%231%5Cstrut%7D%25%0A%20%20%20%20%20%20%20%20%7D%25%0A%20%20%20%20%20%20%20%20%25%20If%20the%20linebreak%20is%20at%20a%20space%2C%20the%20latter%20will%20be%20displayed%20as%20visible%0A%20%20%20%20%20%20%20%20%25%20space%20at%20end%20of%20first%20line%2C%20and%20a%20continuation%20symbol%20starts%20next%20line.%0A%20%20%20%20%20%20%20%20%25%20Stretch%2Fshrink%20are%20however%20usually%20zero%20for%20typewriter%20font.%0A%20%20%20%20%20%20%20%20%5Cdef%5CFV%40Space%20%7B%25%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cnobreak%5Chskip%5Cz%40%20plus%5Cfontdimen3%5Cfont%20minus%5Cfontdimen4%5Cfont%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Cdiscretionary%7B%5Ccopy%5CWrappedvisiblespacebox%7D%7B%5CWrappedafterbreak%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Ckern%5Cfontdimen2%5Cfont%7D%25%0A%20%20%20%20%20%20%20%20%7D%25%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%25%20Allow%20breaks%20at%20special%20characters%20using%20%5CPYG...%20macros.%0A%20%20%20%20%20%20%20%20%5CWrappedbreaksatspecials%0A%20%20%20%20%20%20%20%20%25%20Breaks%20at%20punctuation%20characters%20.%20%2C%20%3B%20%3F%20!%20and%20%2F%20need%20catcode%3D%5Cactive%20%09%0A%20%20%20%20%20%20%20%20%5COriginalVerbatim%5B%231%2Ccodes*%3D%5CWrappedbreaksatpunct%5D%25%0A%20%20%20%20%7D%0A%20%20%20%20%5Cmakeatother%0A%0A%20%20%20%20%25%20Exact%20colors%20from%20NB%0A%20%20%20%20%5Cdefinecolor%7Bincolor%7D%7BHTML%7D%7B303F9F%7D%0A%20%20%20%20%5Cdefinecolor%7Boutcolor%7D%7BHTML%7D%7BD84315%7D%0A%20%20%20%20%5Cdefinecolor%7Bcellborder%7D%7BHTML%7D%7BCFCFCF%7D%0A%20%20%20%20%5Cdefinecolor%7Bcellbackground%7D%7BHTML%7D%7BF7F7F7%7D%0A%20%20%20%20%0A%20%20%20%20%25%20prompt%0A%20%20%20%20%5Cmakeatletter%0A%20%20%20%20%5Cnewcommand%7B%5Cboxspacing%7D%7B%5Ckern%5Ckvtcb%40left%40rule%5Ckern%5Ckvtcb%40boxsep%7D%0A%20%20%20%20%5Cmakeatother%0A%20%20%20%20%5Cnewcommand%7B%5Cprompt%7D%5B4%5D%7B%0A%20%20%20%20%20%20%20%20%5Cttfamily%5Cllap%7B%7B%5Ccolor%7B%232%7D%5B%233%5D%3A%5Chspace%7B3pt%7D%234%7D%7D%5Cvspace%7B-%5Cbaselineskip%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%0A%20%20%20%20%0A%20%20%20%20%25%20Prevent%20overflowing%20lines%20due%20to%20hard-to-break%20entities%0A%20%20%20%20%5Csloppy%20%0A%20%20%20%20%25%20Setup%20hyperref%20package%0A%20%20%20%20%5Chypersetup%7B%0A%20%20%20%20%20%20breaklinks%3Dtrue%2C%20%20%25%20so%20long%20urls%20are%20correctly%20broken%20across%20lines%0A%20%20%20%20%20%20colorlinks%3Dtrue%2C%0A%20%20%20%20%20%20urlcolor%3Durlcolor%2C%0A%20%20%20%20%20%20linkcolor%3Dlinkcolor%2C%0A%20%20%20%20%20%20citecolor%3Dcitecolor%2C%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%25%20Slightly%20bigger%20margins%20than%20the%20latex%20defaults%0A%20%20%20%20%0A%20%20%20%20%5Cgeometry%7Bverbose%2Ctmargin%3D1in%2Cbmargin%3D1in%2Clmargin%3D1in%2Crmargin%3D1in%7D%0A%20%20%20%20%0A%20%20%20%20%0A%0A%5Cbegin%7Bdocument%7D%0A%20%20%20%20%20%5Ctitle%7BAnalysis%20of%20Firm%20Default%20Probability%20and%20Credit%20Spread%20through%20Structural%20Models%3A%20A%20simulation-based%20approach%7D%0A%0A%5Cauthor%7BSimone%20Perfetto%7D%0A%0A%20%20%20%20%5Cmaketitle%0A%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%0A%25%25%25%25%25%25%25%25%25%25%25%25%20main%20loading%20various%20sections%20%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%0A%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%25%0A%5Csection*%7BIntroduction%7D%0AThe%20objective%20of%20this%20essay%20is%20to%20model%20the%20expected%20default%20probability%20and%20credit%20spread%20of%20a%20firm%20that%20is%20financing%20itself%20partly%20through%20debt%20capital.%20In%20particular%2C%20I%20want%20to%20explore%20the%20impact%20of%20different%20modelling%20assumptions%20the%20to%20expected%20default%20probability%20and%20credit%20spread%2C%20using%20a%20simulation-based%20approach.%0A%0A%5Csection*%7BDefault%20probability%7D%0AIn%20the%20context%20of%20credit%20risk%2C%20Structural%20Models%20link%20firm%27s%20default%20probability%20to%20the%20economics%20of%20the%20firm%20itself%2C%20i.e.%2C%20its%20capital%20structure.%20Let%20me%20explore%20two%20famous%20models%20from%20the%20literature%3A%20Merton%27s%20and%20Black-Cox%27s.%0A%0A%5Csubsection*%7BMerton%20model%7D%0AMerton%20model%20settings%20are%20loosely%20summarized%20as%20follows%3A%0A%5Cbegin%7Bitemize%7D%0A%5Citem%20Firm%27s%20value%20of%20assets%20is%20modeled%20as%20a%20stochastic%20process%20%5C(%5C%7BVt%5C%7D_%7Bt%20%5Cgeq%200%7D%5C)%20that%20follows%20a%20geometric%20brownian%20motion%0A%5Citem%20%20Firm%20finances%20its%20assets%20through%20a%20mix%20of%20debt%20and%20equity.%20Specifically%2C%20the%20face%20value%20of%20debt%20to%20be%20extinguished%20at%20maturity%20%5C(T%5C)%20is%20%5C(D%5C).%20Thus%2C%20at%20any%20point%20in%20time%20%5C(t%5Cleq%20T%5C)%2C%20we%20have%20%5C(V_t%3DB_t%20%2B%20E_t%5C)%20(where%20%5C(B_t%5C)%20stands%20for%20"bond"%20and%20%5C(E_t%5C)%20for%20"equity")%0A%5Citem%20Firm%20defaults%20only%20if%20at%20maturity%20%5C(V_T%20%3C%20D%5C).%20If%20%5C(V_T%20%5Cgeq%20D%5C)%2C%20the%20firm%20is%20able%20to%20repay%20its%20debt.%20%0A%5Cend%7Bitemize%7D%0AThus%2C%20the%20residual%20equity%20claims%20on%20firm%E2%80%99s%20assets%20entitled%20to%20shareholders%20can%20be%20thought%20of%20as%20a%20European%0Acall%20option%20with%20strike%20price%20equal%20to%20the%20face%20value%20of%20debt%3A%20shareholders%20can%20keep%20everything%20in%0Aexcess%20of%20such%20debt%20at%20maturity%3B%20if%20%5C(V_T%20%3C%20D%5C)%2C%20they%20do%20not%20"exercise"%20the%20call%20and%20opt%20for%20default.%0AFor%20a%20more%20rigorous%20discussion%20of%20Merton%20model%2C%20see%20%5Ctextcite%7BMerton1974%7D.%0A%0AGiven%20the%20above%20setting%2C%20a%20practical%20approach%20to%20the%20estimation%20of%20default%20probability%20consists%20in%20the%20following%3A%0A%0A%5Cbegin%7Bitemize%7D%0A%5Citem%20Perform%20a%20Monte-Carlo%20simulation%20of%20many%20"paths"%20(i.e.%2C%20realized%20stochastic%20processes)%20for%20the%20value%20of%20the%20firm%20over%20a%20certain%20period%20of%20time%20%5C(T%5C)%20with%20sample%20frequency%20%5C(dt%5C).%20The%20initial%20firm%20value%20for%20each%20path%20is%20%5C(V_0%5C)%0A%5Citem%20Estimate%20the%20default%20probability%20as%20the%20fraction%20of%20paths%20for%20which%20at%20maturity%20we%20have%20%5C(V_T%20%3C%20D%5C)%2C%20i.e.%2C%20default%20as%20per%20above%20definition.%0A%5Cend%7Bitemize%7D%0A%0AThe%20following%20input%20parameters%20are%20used%20for%20the%20simulation%20of%20firm%20value%27s%20stochastic%20process%20according%20to%20Merton%27s%20model%3A%0A%5Cbegin%7Bitemize%7D%0A%5Citem%20%5C(r%5C)%20%3D%20%5C(3%5C%25%5C)%0A%5Citem%20%5C(D%5C)%20%3D%20%5C(100%5C)%20(face%20value%20of%20debt)%0A%5Citem%20%5C(T%5C)%20%3D%20%5C(20%5C)%20(years)%2C%20%5Cquad%20%5C(dt%5C)%20%3D%20%5C(%5Csfrac%7B1%7D%7B12%7D%5C)%20(frequency%20expressed%20in%20years)%0A%5Citem%20%5C(%5Csigma_v%5C)%20%3D%20%5C(25%5C%25%5C)%20%0A%5Citem%20%5C(V_0%5C)%20%3D%20%5C(200%5C)%0A%5Cend%7Bitemize%7D%0A%0A%5C(250%2C000%5C)%20paths%20are%20simulated.%20The%20following%20code%20snippet%20implements%20the%20simulation.%20%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0Aimport%20numpy%20as%20np%0Aimport%20pandas%20as%20pd%0Aimport%20numpy.random%20as%20rnd%0Aimport%20cufflinks%20as%20cf%20%20%23%20library%20to%20use%20plotly%20plots%20along%20with%20pandas%0Aimport%20plotly.graph_objs%20as%20go%0Afrom%20tqdm%20import%20trange%0Afrom%20scipy.stats%20import%20norm%0Acf.go_offline(connected%3DTrue)%0A%0Adef%20gbm_generator(v0%3A%20float%2C%20T%3A%20int%2C%20sigma%3A%20float%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%3A%20float%2C%20dt%3A%20float%2C%20n_paths%3D250_000)%3A%0A%20%20%20%20"""%0A%20%20%20%20%3Aparam%20v0%3A%20initial%20firm%20value%0A%20%20%20%20%3Aparam%20T%3A%20number%20of%20years%0A%20%20%20%20%3Aparam%20sigma%3A%20diffusion%20of%20GBM%0A%20%20%20%20%3Aparam%20r%3A%20drift%20of%20GBM%20(risk-free%20rate)%0A%20%20%20%20%3Aparam%20dt%3A%20inverse%20of%20frequency%20of%20observations%20per%20year%20(in%20years)%0A%20%20%20%20%3Aparam%20n_paths%3A%20number%20of%20different%20paths%20to%20be%20simulated%0A%20%20%20%20%3Areturn%3A%20a%20matrix%20of%20N%3Dn_paths%20GBMs%20over%20T%20years%20sampled%20every%20dt%20year%0A%20%20%20%20"""%0A%20%20%20%20n_periods%20%3D%20int(T%2Fdt)%0A%20%20%20%20%23%20create%20matrix%20with%20dimensions%20%7Bn_periods%2B1%2C%20n_paths%7D%20and%20initialize%20v(t%3D0)%3Dv0%0A%20%20%20%20v_n_t%20%3D%20np.zeros((n_periods%20%2B%201%2C%20n_paths))%0A%20%20%20%20v_n_t%5B0%2C%20%3A%5D%20%3D%20v0%20*%20np.ones(n_paths)%0A%20%20%20%20%23%20simulate%20paths%0A%20%20%20%20v_n_t%5B1%3A%2C%20%3A%5D%20%3D%20v0%20*%20np.exp(np.cumsum((r%20-%200.5%20*%20sigma%20**%202)%20*%20dt%20%2B%20%0A%20%20%20%20sigma%20*%20(dt%20**%200.5)%20*%20np.random.standard_normal((n_periods%2C%20n_paths))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20axis%3D0))%0A%20%20%20%20return%20v_n_t%0A%20%20%20%20%0Anp.random.seed(0)%0Av0%2C%20D%2C%20T%2C%20sigma%2C%20r%2C%20%20%3D%20200%2C%20100%2C%2020%2C%200.25%2C%200.03%0Adt%20%3D%201%20%2F%2012%0An_paths%2C%20n_periods%20%3D%20250_000%2C%20int(T%2Fdt)%0A%0Apaths_data%20%3D%20gbm_generator(v0%2C%20T%2C%20sigma%2C%20r%2C%20dt%2C%20n_paths)%0A%5Cend%7Bmintedbox%7D%0A%0AThe%20following%20code%20snippet%20plots%2010%20randomly-chosen%20paths%20among%20the%20%5C(250000%5C).%20%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0A%23%20plot%2010%20randomly-chosen%20paths%0Arand_idx_plot%20%3D%20rnd.randint(low%3D0%2C%20high%3Dn_paths-1%2C%20size%3D10)%0Apaths_for_plot%20%3D%20paths_data%5B%3A%2C%20rand_idx_plot%5D%0Apaths_for_plot_df%20%3D%20pd.DataFrame(paths_for_plot%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20columns%3D%5Bf"p%7Bi%7D"%20for%20i%20in%20range(1%2C%2011)%5D)%0A%0Afig%20%3D%20paths_for_plot_df.iplot(colorscale%3D"polar"%2C%20xTitle%3D"Time"%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20yTitle%3D"Firm%20Value"%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20theme%3D"white"%2C%20asFigure%3DTrue)%0Afig.add_shape(type%3D"line"%2C%20line_color%3D"LightSeaGreen"%2C%20line_width%3D2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3D1%2C%20line_dash%3D"dot"%2C%20x0%3D0%2C%20x1%3D1%2C%20xref%3D"paper"%2C%20y0%3DD%2C%20y1%3DD)%0Afig.add_trace(go.Scatter(x%3D%5B23%5D%2C%20y%3D%5B65%5D%2C%20text%3D%5B"Face%20Value%20of%20Debt"%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mode%3D"text"%2C%20showlegend%3DFalse))%20%23%20debt%20threshold%20label%0A%0Afig.update_layout(font%3Ddict(family%3D"Computer%20Modern"))%0Afig.write_image("images%2Ffirm_value_simulated_paths.pdf"%2C%20format%3D"pdf")%0Afig.show()%0A%5Cend%7Bmintedbox%7D%0A%0A%5Cbegin%7Bfigure%7D%0A%5Ccentering%0A%5Ccaption%7BTen%20simulated%20paths%20for%20Firm%20Value%20process%20over%2020%20years%20(240%20months)%7D%0A%20%20%5Cincludegraphics%5Bkeepaspectratio%3Dtrue%2C%20scale%3D1.14%2C%20trim%3D%7B0.65cm%201.1cm%200%202.90cm%7D%2C%20clip%5D%7Bfigures%2Ffirm_value_simulated_paths.pdf%7D%0A%5Cend%7Bfigure%7D%0A%0ANow%20we%20estimate%20the%20probability%20of%20default%20as%20the%20fraction%20of%20paths%20experiencing%20default%20at%20maturity%20(i.e.%2C%20whose%20firm%20value%20%5C(V_T%5C)%20is%20below%20the%20threshold%20D).%20Thus%3A%0A%0A%0A%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0Ares_v_maturity%20%3D%20paths_data%5B-1%2C%20%3A%5D%20-%20D%0Apd_merton%20%3D%20len(res_v_maturity%5Bres_v_maturity%20%3C%200%5D)%20%2F%20len(res_v_maturity)%0Aprint("Estimated%20probability%20of%20default%20"%20%0A%20%20%20%20%20%20"under%20Merton%20model%20settings%3A"%2C%20round(pd_merton%2C%204))%0A%3E%3E%3E%20Estimated%20probability%20of%20default%20under%20Merton%20model%20settings%3A%200.2753%0A%5Cend%7Bmintedbox%7D%0A%5Cpagebreak%0A%0A%0A%5Csubsection*%7BBlack-Cox%20model%7D%0AMerton%20model%20allows%20only%20for%20default%20at%20maturity%2C%20which%20is%20a%20non-realistic%20assumption.%20Indeed%2C%0Abonds%20are%20usually%20issued%20with%20safety%20covenants%20and%20subordination%20arrangements%20as%20further%20protection%0Atools%20for%20bondholders.%20Any%20breach%20of%20such%20agreements%20can%20trigger%20early%20default.%20This%20results%0Ain%20a%20more%20disciplined%20management%20of%20financial%20resources%20by%20shareholders%2C%20limiting%20their%20incentive%0Ain%20engaging%20in%20riskier%20projects.%20Black-Cox%20model%20%5Cparencite%7BBlack1976%7D%20allows%20for%20a%20closer%20representation%20of%20reality%2C%20as%20it%0Aincorporate%20the%20possibility%20of%20early%20default%20at%20any%20point%20in%20time%20before%20maturity%20in%20case%20a%20certain%0Athreshold%20is%20hit%20by%20the%20value%20of%20firm%E2%80%99s%20assets.%0A%0ADifferently%20from%20previous%20case%2C%20default%20threshold%20is%20now%20a%20deterministic%20function%20of%20time%3A%0A%5C%5BD(t)%20%3D%20D%20e%5E%7B-r(T-t)%7D%5C%5D%0A%0AOnce%20clarified%20the%20different%20definition%20of%20"default"%2C%20the%20probability%20of%20default%20can%20still%20be%20estimated%20as%20the%20fraction%20of%20defaulting%20paths.%20We%20use%20the%20paths%20simulated%20above%20and%20check%20their%20(possibly%20early)%20default%20status%20with%20the%20following%20code%20snippet%2C%20and%20then%20compute%20Black-Cox%20default%20probability%3A%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0A%23%20define%20default%20threshold%20considering%20progressive%20discount%20factor%0Adiscount_vec%20%3D%20np.array(%5Bnp.exp(-dt%20*%20(i%20-%201)%20*%20r)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20i%20in%20range(n_periods%20%2B%201%2C%200%2C%20-1)%5D)%0ADt%20%3D%20D%20*%20discount_vec%0A%23%20build%20array%20to%20check%20any%20default%20status%20in%20at%20least%20one%20period%2C%20%20for%20each%20path%0Adefault_status%20%3D%20np.any(paths_data%20%3C%20Dt.reshape(-1%2C%201)%2C%20axis%3D0)%0Apd_bc%20%3D%20len(default_status%5Bdefault_status%5D)%20%2F%20len(default_status)%0Aprint("estimated%20probability%20of%20default%20"%0A%20%20%20%20%20%20"under%20Black-Cox%20model%20settings%20is%3A"%2C%20round(pd_bc%2C%204))%0A%3E%3E%3E%20Estimated%20probability%20of%20default%20under%20Black-Cox%20model%20settings%3A%200.4145%0A%5Cend%7Bmintedbox%7D%0A%0AProbability%20of%20default%20in%20Black-Cox%20model%20is%20significantly%20higher%20than%20probability%20of%20default%20in%20Merton%20model.%20In%20fact%2C%20the%20allowance%20of%20default%20at%20any%20period%20up%20to%20maturity%20increases%20the%20chances%20that%20the%20firm%20value%27s%20stochastic%20process%20moves%20below%20the%20threshold%20and%20trigger%20default%20covenants.%20Thus%2C%20ceteris%20paribus%2C%20default%20is%20more%20likely%20in%20Black-Cox%20model%20than%20in%20Merton%20model.%0A%0A%5Csubsection*%7BComparison%20of%20models%7D%0AWe%20might%20wonder%20what%20would%20be%20the%20capital%20structure%20for%20Black-Cox%20model%20that%20equalizes%20the%20probability%20of%20default%20in%20Merton%20model%20with%20D%3D100%2C%20ceteris%20paribus.%20The%20following%20code%20snippet%20implements%20a%20routine%20to%20find%20the%20answer%3A%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0Adef%20merton_minus_bc_squared(Dt_%3A%20np.array%2C%20pd_mert%3A%20float%2C%20paths%3A%20np.array)%3A%0A%20%20%20%20"""%0A%20%20%20%20%3Aparam%20Dt_%3A%20vector%20of%20discounted%20Face%20Value%20of%20Debt%20D%0A%20%20%20%20%3Aparam%20pd_mert%3A%20reference%20default%20probability%20under%20Merton%0A%20%20%20%20%3Aparam%20paths%3A%20matrix%20of%20simulated%20paths%0A%20%20%20%20%3Areturn%3A%20squared%20error%20(p_mert%20-%20p_bc)%5E2%0A%20%20%20%20"""%0A%20%20%20%20default_stat%20%3D%20np.any(paths%20%3C%20Dt_.reshape(-1%2C%201)%2C%20axis%3D0)%0A%20%20%20%20pd_bcox%20%3D%20len(default_stat%5Bdefault_stat%5D)%20%2F%20len(default_stat)%0A%20%20%20%20return%20(pd_mert%20-%20pd_bcox)%20**%202%0A%23%20GridSearch%20D%20between%20%5B0.25%2C%20100%5D%20with%200.25%20jumps%20to%20find%0A%23%20min(merton_minus_bc_squared)%0Amerton_minus_bc_squared_array%20%3D%20np.zeros(400)%0Afor%20i%20in%20trange(400)%3A%0A%20%20%20%20D%20%3D%20(i%20%2B%201)%2F4%0A%20%20%20%20Dt%20%3D%20D%20*%20discount_vec%0A%20%20%20%20merton_minus_bc_squared_array%5Bi%5D%20%3D%20%5C%0A%20%20%20%20%20%20%20%20merton_minus_bc_squared(Dt_%3DDt%2C%20pd_mert%3Dpd_merton%2C%20paths%3Dpaths_data)%0A%0A%23%20show%20Face%20Value%20of%20Debt%20for%20which%20(p_merton%20-%20p_bc)%5E2%20is%20minimum%0Amerton_minus_bc_squared_df%20%3D%20pd.DataFrame(merton_minus_bc_squared_array%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%3D%5B(i%2B1)%20%2F%204%20for%20i%20in%20range(400)%5D)%0Aprint("Black-Cox%20-%20Face%20Value%20of%20Debt%20allowing%20equal"%0A%20%20%20%20%20%20"%20default%20probabilities%3A"%2C%20float(merton_minus_bc_squared_df.idxmin()))%0A%3E%3E%3E%20Black-Cox%20-%20Face%20Value%20of%20Debt%20allowing%20equal%20default%20probabilities%3A%2070.25%0A%5Cend%7Bmintedbox%7D%0A%0AThus%2C%20a%20zero-coupon%20bond%20with%20face%20value%20equal%20to%20%2470.25%24%20would%20be%20enough%20in%20Black-Cox%20setting%20to%20achieve%20the%20same%20probability%20of%20default%20you%20would%20get%20with%20a%20%24100%24-Face%20Value%20bond%20in%20Merton%20setting.%20We%20demonstrated%20how%20Black-Cox%20is%20much%20more%20conservative.%20As%20discussed%20above%2C%20Black-Cox%20is%20a%20closer%20representation%20of%20reality.%0A%0A%0A%5Cpagebreak%0A%0A%5Csection*%7BCredit%20spread%7D%0AIn%20the%20context%20of%20credit%20risk%2C%20the%20credit%20spread%20of%20a%20defaultable%20bond%20is%20the%20difference%20between%20the%20bond%20yield%20and%20the%20yield%20of%20an%20equivalent%20risk-free%20bond.%20It%20is%20a%20very%20important%20metric%20as%20it%20incorporates%20the%20premium%20required%20for%20bearing%20the%20additional%20default%20risk%20when%20investing%20in%20the%20defaultable%20bond.%20%0A%0AFor%20a%20bond%20with%20maturity%20%5C(T%5C)%20and%20constant%20risk-free%20rate%2C%20we%20have%20in%20symbols%3A%0A%0A%24%24s_%7B%5C%2Ct%2CT%7D%20%3D%20y_%7B%5C%2Ct%2CT%7D%20-r%24%24%0A%0ANow%2C%20using%20the%20same%20notation%20as%20above%2C%20we%20have%3A%0A%0A%24%24V_t%20%3D%20B_t%20%2B%20E_t%20%3D%20B_t%20%2B%20Call_%7BBS%7D(V_t%2C%20D%2C%20r%2C%20T%2C%20%5Csigma_v)%24%24%0A%0Awhere%20%24Call_%7BBS%7D(.)%24%20represent%20the%20Black-Scholes%20option-like%20feature%20of%20shareholders%27%20equity%20claims%2C%20with%20strike%20price%20equal%20to%20the%20face%20value%20of%20debt%20%24D%24.%20By%20definition%2C%20we%20know%20also%20that%20a%20zero-coupon%20bond%20yield%20is%20as%20follows%3A%0A%0A%24B_t%20%3D%20D%20e%5E%7B-y_%7Bt%2CT%7D%5C%2C*%5C%2C(T-t)%7D%24%2C%20%5Cquad%20equivalent%20to%3A%20%5Cquad%24y_%7Bt%2CT%7D%3D%5Cdfrac%7B1%7D%7BT-t%7D%5Clog%5Cleft(%5Cdfrac%7BD%7D%7BB_t%7D%5Cright)%3D%5Cdfrac%7B1%7D%7BT-t%7D%5Clog%5Cleft(%5Cdfrac%7BD%7D%7BV_t%20-%20Call_%7BBS%7D(.)%7D%5Cright)%24%20%0A%0A%0A%0Ausing%20the%20three%20above%2C%20we%20can%20easily%20derive%20the%20credit%20spread%20for%20various%20input%20parameters.%0A%0A%0A%0AWe%20now%20explore%20credit%20spread%20within%20Merton%20model%2C%20using%20same%20baseline%20inputs%20as%20above%2C%20except%20for%20face%20value%20of%20debt%3A%20%0A%5Cbegin%7Bitemize%7D%0A%5Citem%20%5C(r%5C)%20%3D%20%5C(3%5C%25%5C)%0A%5Citem%20%5C(%5Csigma_v%5C)%20%3D%20%5C(25%5C%25%5C)%20%0A%5Citem%20%5C(V_0%5C)%20%3D%20%5C(200%5C)%0A%5Citem%20%5C(D%5C)%20%3D%20%5C(150%5C)%20(face%20value%20of%20debt)%0A%5Cend%7Bitemize%7D%0A%0AHowever%2C%20we%20want%20to%20see%20how%20varying%20any%20of%20the%20first%20three%20baseline%20inputs%20(i.e.%2C%20%5C(r%5C)%2C%20%5C(%5Csigma_v%5C)%2C%20%20%5C(V_0%5C)%20affects%20the%20credit%20spread%20itself%20at%20different%20maturities.%0A%0AThe%20following%20code%20snippet%20creates%20a%20function%20to%20compute%20credit%20spreads%20by%20taking%20a%20matrix%20of%20simulated%20paths%20and%20other%20parameters%20as%20inputs.%20It%20also%20define%20baseline%20inputs%20to%20be%20used%20later.%0A%5Cpagebreak%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0Adef%20credit_spread_simulator(paths%2C%20r%3A%20float%2C%20D%3A%20float%2C%20T%2C%20dt)%3A%0A%20%20%20%20"""%0A%20%20%20%20%3Aparam%20paths%3A%20matrix%20of%20simulated%20paths%0A%20%20%20%20%3Aparam%20r%3A%20risk-free%20rate%0A%20%20%20%20%3Aparam%20D%3A%20Face%20value%20of%20debt%0A%20%20%20%20%3Aparam%20T%3A%20maturity%0A%20%20%20%20%3Aparam%20dt%3A%20%20inverse%20of%20frequency%20of%20observations%20per%20year%20(in%20years)%0A%20%20%20%20%3Areturn%3A%20credit_spread%0A%20%20%20%20"""%0A%20%20%20%20maturity_row%20%3D%20int(T%20%2F%20dt)%0A%20%20%20%20payoffs_at_maturity%20%3D%20np.where(paths%5Bmaturity_row%2C%20%3A%5D%20-%20D%20%3E%3D%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paths%5Bmaturity_row%2C%20%3A%5D%20-%20D%2C%200)%0A%20%20%20%20%23%20discounted%20expected%20payoff%0A%20%20%20%20call%20%3D%20np.exp(-r%20*%20T)%20*%20np.mean(payoffs_at_maturity)%0A%20%20%20%20v0%20%3D%20paths%5B0%2C%200%5D%0A%20%20%20%20b0%20%3D%20v0%20-%20call%0A%20%20%20%20y0%20%3D%20(1%20%2F%20T)%20*%20np.log(D%20%2F%20b0)%0A%20%20%20%20return%20y0%20-%20r%0A%0A%23%20define%20base%20inputs%0Anp.random.seed(0)%0Av0_base%2C%20D%2C%20T_base%2C%20sigma_base%2C%20r_base%20%3D%20200%2C%20150%2C%2020%2C%200.25%2C%200.03%0Adt%20%3D%201%20%2F%2012%0An_paths%20%3D%20250_000%0An_periods%20%3D%20int(T_base%20%2F%20dt)%0Amaturities%20%3D%20np.linspace(start%3Ddt%2C%20stop%3D20%2C%20num%3D240%2C%20dtype%3Dnp.float64)%0A%5Cend%7Bmintedbox%7D%0A%0A%5Csubsection*%7BVarying%20initial%20firm%20value%7D%0ANow%20we%20focus%20on%20the%20different%20credit%20spreads%20for%20several%20maturities%20and%20varying%20initial%20firm%20value.%20The%20following%20code%20snippet%20computes%20credit%20spreads%20and%20show%20them%20in%20a%20plot.%0A%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0Adef%20spread_plotter(spread_data%3A%20pd.DataFrame%2C%20image_name%3A%20str)%3A%0A%20%20%20%20figure%20%3D%20spread_data.iplot(colorscale%3D"polar"%2C%20theme%3D"white"%2C%20asFigure%3DTrue%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20yTitle%3D"Credit%20Spread%20(bps)"%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xTitle%3D"Maturity%20(years)"%2C)%0A%20%20%20%20figure.update_layout(font%3Ddict(family%3D"Computer%20Modern"))%0A%20%20%20%20figure.write_image("images%2F%7B%7D.pdf".format(image_name)%2C%20format%3D"pdf")%0A%20%20%20%20figure.show()%0A%0Afirm_vals%20%3D%20%5B155%2C%20175%2C%20200%2C%20300%5D%0Aspread_matrix_varying_vals%20%3D%20np.zeros(%5Blen(maturities)%2C%20len(firm_vals)%5D)%0Afor%20j%2C%20val%20in%20enumerate(firm_vals)%3A%0A%20%20%20%20paths_data%20%3D%20gbm_generator(v0%3Dval%2C%20T%3DT_base%2C%20sigma%3Dsigma_base%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%3Dr_base%2C%20dt%3Ddt%2C%20n_paths%3Dn_paths)%0A%20%20%20%20for%20i%2C%20tau%20in%20enumerate(maturities)%3A%0A%20%20%20%20%20%20%20%20spread_matrix_varying_vals%5Bi%5D%5Bj%5D%20%3D%20credit_spread_simulator(%0A%20%20%20%20%20%20%20%20%20%20%20%20paths%3Dpaths_data%2C%20r%3Dr_base%2C%20D%3DD%2C%20T%3Dtau%2C%20dt%3Ddt)%20*%2010000%0A%0Aspread_df_varying_vals%20%3D%20pd.DataFrame(spread_matrix_varying_vals%2C%20index%3Dmaturities%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20columns%3D%5Bf"%24V_0%20%3D%20%7Bv%7D%24"%20for%20v%20in%20firm_vals%5D)%0Aspread_plotter(spread_df_varying_vals%2C%20image_name%3D"spreads_varying_value")%0A%5Cend%7Bmintedbox%7D%0A%0A%5Cbegin%7Bfigure%7D%0A%5Ccentering%0A%5Ccaption%7BCredit%20Spread%20Curve%20for%20different%20starting%20Firm%20Values%7D%0A%20%20%5Cincludegraphics%5Bkeepaspectratio%3Dtrue%2C%20scale%3D1.15%2C%20trim%3D%7B0.2cm%201.cm%200cm%202.6cm%7D%2C%20clip%5D%0A%20%20%7Bfigures%2Fspreads_varying_value.pdf%7D%0A%5Cend%7Bfigure%7D%0A%0AMerton%20model%20allows%20both%20a%20monotonically%20decreasing%20and%20increasing%20spread%20curve%20(as%20shown%20in%20the%20plot%20for%20%24V_0%3D300%24%20and%20%24V_0%3D155%24%2C%20respectively).%20Merton%20model%20allows%20also%20a%20humped-shape%20credit%20spread%20curve%20(for%20example%2C%20when%20%24V_0%3D175%24).%0A%0A%5Cbegin%7Bitemize%7D%0A%20%20%20%20%5Citem%20The%20spread%20curve%20is%20monotonically%20decreasing%20when%20the%20firm%20is%20in%20extreme%20financial%20distress%2C%20i.e%2C%20when%20the%20current%20value%20of%20assets%20is%20very%20close%20or%20below%20the%20face%20value%20of%20debt.%20In%20that%20case%2C%20the%20probability%20of%20default%20for%20shorter%20maturities%20is%20very%20high%20and%20the%20large%20credit%20spread%20is%20a%20direct%20consequence.%20For%20longer%20maturities%2C%20however%2C%20credit%20spread%20is%20progressively%20decreasing.%20In%20fact%2C%20conditional%20on%20surviving%2C%20the%20firm%20might%20be%20able%20to%20bring%20the%20value%20of%20assets%20above%20the%20face%20value%20of%20debt%20before%20payment%20is%20due.%20The%20clear%20example%20is%20given%20in%20the%20plot%20for%20%24V_0%3D155%24.%0A%20%20%20%20%5Citem%20The%20spread%20curve%20is%20monotonically%20increasing%20when%20the%20firm%20has%20a%20solid%20financial%20structure%2C%20such%20that%20the%20probability%20of%20default%20for%20shorter%20maturities%20is%200%20de%20facto.%20In%20other%20words%2C%20it%20is%20extremely%20unlikely%20that%20the%20value%20of%20assets%20will%20go%20below%20the%20face%20value%20of%20debt%2C%20which%20makes%20the%20credit%20spread%20approximately%200.%20However%2C%20for%20longer%20maturities%2C%20there%20is%20a%20higher%20chance%20for%20the%20value%20of%20the%20firm%20to%20end%20up%20in%20bad%20states%20of%20the%20world%2C%20thus%20the%20credit%20spread%20progressively%20increase%20with%20longer%20maturities.%20For%20instance%2C%20when%20%24V_0%3D300%24%2C%20the%20firm%20is%20very%20unlikely%20to%20default%20in%20the%20short%20term%20as%20the%20value%20of%20assets%20is%20significantly%20above%20the%20face%20value%20of%20debt.%0A%20%20%20%20%5Citem%20The%20spread%20curve%20has%20a%20humped%20shape%20when%20the%20firm%20is%20relatively%20healthy%20now%2C%20but%20might%20experience%20some%20financial%20distress%20in%20the%20medium%20term.%20The%20spread%20curve%20then%20decreases%20because%2C%20conditional%20to%20surviving%20until%20that%20point%20in%20time%2C%20firm%27s%20prospects%20might%20subsequently%20improve.%20%0A%5Cend%7Bitemize%7D%0A%0A%0A%0A%0A%0A%5Csubsection*%7BVarying%20risk-free%20rate%7D%0A%0ANow%20we%20focus%20on%20the%20different%20credit%20spreads%20for%20several%20maturities%20and%20varying%20risk-free%20rate.%20The%20following%20code%20snippet%20computes%20credit%20spreads%20and%20show%20them%20in%20a%20plot.%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0Arates%20%3D%20%5B0.01%2C%200.03%2C%200.06%2C%200.1%5D%0Aspread_matrix_varying_rates%20%3D%20np.zeros(%5Blen(maturities)%2C%20len(rates)%5D)%0Afor%20j%2C%20rate%20in%20enumerate(rates)%3A%0A%20%20%20%20paths_data%20%3D%20gbm_generator(v0%3Dv0_base%2C%20T%3DT_base%2C%20sigma%3Dsigma_base%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%3Drate%2C%20dt%3Ddt%2C%20n_paths%3Dn_paths)%0A%20%20%20%20for%20i%2C%20tau%20in%20enumerate(maturities)%3A%0A%20%20%20%20%20%20%20%20spread_matrix_varying_rates%5Bi%5D%5Bj%5D%20%3D%20credit_spread_simulator(%0A%20%20%20%20%20%20%20%20%20%20%20%20paths%3Dpaths_data%2C%20r%3Drate%2C%20D%3DD%2C%20T%3Dtau%2C%20dt%3Ddt)%20*%2010000%0Aspread_varying_rates%20%3D%20pd.DataFrame(spread_matrix_varying_rates%2C%20index%3Dmaturities%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20columns%3D%5Bf"%24r%20%3D%20%7Bint(rt%20*%20100)%7D%20%5C%25%24"%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20rt%20in%20rates%5D)%0Aspread_plotter(spread_varying_rates%2C%20image_name%3D"spreads_varying_rates")%0A%5Cend%7Bmintedbox%7D%0A%0A%5Cbegin%7Bfigure%7D%0A%5Ccentering%0A%5Ccaption%7BCredit%20Spread%20Curve%20for%20different%20levels%20of%20Interest%20Rates%7D%0A%20%20%5Cincludegraphics%5Bkeepaspectratio%3Dtrue%2C%20scale%3D1.14%2C%20trim%3D%7B0.50cm%201.1cm%200%202.6cm%7D%2C%20clip%5D%0A%20%20%7Bfigures%2Fspreads_varying_rates.pdf%7D%0A%5Cend%7Bfigure%7D%0A%0AAs%20shown%20in%20the%20plot%20and%20the%20table%2C%20low%20levels%20of%20interest%20rates%20shift%20the%20whole%20credit%20spread%20curve%20up.%20The%20interpretation%20of%20risk-free%20rate%20impact%20on%20spread%20is%20tricky%2C%20as%20there%20are%20two%20competing%20factors.%20%0A%5Cbegin%7Bitemize%7D%0A%20%20%20%20%5Citem%20On%20the%20one%20hand%2C%20when%20rates%20are%20high%2C%20the%20call-option-like%20shareholders%27%20residual%20claim%20on%20assets%20is%20more%20valuable%2C%20as%20the%20expected%20strike%20price%20payment%20(i.e.%2C%20face%20value%20of%20debt)%20in%20the%20future%20is%20discounted%20more%20heavily.%20This%20implies%20that%20the%20value%20of%20the%20bond%20%24B_t%24%20is%20less%20and%20bondholders%20require%20a%20higher%20yield%20%24y_%7Bt%2C%20T%7D%24.%0A%20%20%20%20%20%20%20%20%5Citem%20On%20the%20other%20hand%2C%20the%20higher%20interest%20rate%20you%20subtract%20from%20the%20yield%20to%20obtain%20the%20spread%20more%20than%20compensates%20the%20effect%20above%2C%20resulting%20in%20higher%20credit%20spreads%20when%20interest%20rates%20are%20lower.%0A%5Cend%7Bitemize%7D%0AFor%20shorter%20maturities%2C%20the%20"discount%20effect"%20is%20limited%20though%2C%20so%20we%20observe%20relatively%20smaller%20spreads%20all%20%20levels%20of%20interest%20rates%20considered.%20%0A%0A%5Csubsection*%7BVarying%20volatility%20of%20firm%20value%7D%0A%0ANow%20we%20focus%20on%20the%20different%20credit%20spreads%20for%20several%20maturities%20and%20varying%20firm%20value%20volatility.%20The%20following%20code%20snippet%20computes%20credit%20spreads%20and%20show%20them%20in%20a%20plot.%0A%0A%5Cbegin%7Bmintedbox%7D%7Bpython%7D%0Asigmas%20%3D%20%5B.10%2C%20.25%2C%20.35%2C%20.50%5D%0Aspread_matrix_varying_sigmas%20%3D%20np.zeros(%5Blen(maturities)%2C%20len(sigmas)%5D)%0A%0Afor%20j%2C%20sig%20in%20enumerate(sigmas)%3A%0A%20%20%20%20paths_data%20%3D%20gbm_generator(v0%3Dv0_base%2C%20T%3DT_base%2C%20sigma%3Dsig%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%3Dr_base%2C%20dt%3Ddt%2C%20n_paths%3Dn_paths)%0A%20%20%20%20for%20i%2C%20tau%20in%20enumerate(maturities)%3A%0A%20%20%20%20%20%20%20%20spread_matrix_varying_sigmas%5Bi%5D%5Bj%5D%20%3D%20credit_spread_simulator(%0A%20%20%20%20%20%20%20%20%20%20%20%20paths%3Dpaths_data%2C%20r%3Dr_base%2C%20D%3DD%2C%20T%3Dtau%2C%20dt%3Ddt)%20*%2010000%0Aspread_varying_sigmas%20%3D%20pd.DataFrame(spread_matrix_varying_sigmas%2C%20index%3Dmaturities%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20columns%3D%5Bf"%24%5Csigma_v%20%3D%20%7Bint(sig%20*%20100)%7D%5C%25%24"%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20sig%20in%20sigmas%5D)%0Aspread_plotter(spread_varying_sigmas%2C%20image_name%3D"spreads_varying_vol")%0A%5Cend%7Bmintedbox%7D%0A%0A%5Cbegin%7Bfigure%7D%0A%5Ccentering%0A%5Ccaption%7BCredit%20Spread%20Curve%20for%20different%20Firm%27s%20Asset%20Volatilities%7D%0A%20%20%5Cincludegraphics%5Bkeepaspectratio%3Dtrue%2C%20scale%3D1.1%2C%20trim%3D%7B0.50cm%201.1cm%200%202.cm%7D%2C%20clip%5D%0A%20%20%7Bfigures%2Fspreads_varying_vol.pdf%7D%0A%5Cend%7Bfigure%7D%0A%0AAs%20shown%20in%20the%20plot%2C%20higher%20volatility%20of%20firm%27s%20assets%20shifts%20the%20whole%20credit%20spread%20curve%20up.%20Moreover%2C%20the%20humped%20shape%20of%20the%20curve%20at%20shorter%20term%20maturities%20is%20more%20pronounced%20for%20more%20volatile%20firms.%20Both%20effects%20can%20be%20explained%20from%20the%20call-option-like%20feature%20of%20equity.If%20the%20underlying%20is%20more%20volatile%2C%20the%20option%20is%20worth%20more%20due%20to%20its%20asymmetric%20pay-off%20structure.%20However%2C%20we%20also%20have%20%24V_t%20%3D%20B_t%20%2B%20E_t%24.%20Thus%2C%20if%20%24E_t%24%20is%20worth%20more%20because%20of%20higher%20volatility%20and%20%24V_t%24%20is%20kept%20constant%2C%20then%20the%20value%20of%20the%20bond%20%24B_t%24%20is%20less.%20For%20this%20reason%2C%20the%20bond%20is%20riskier%20and%20bondholders%20require%20a%20higher%20premium%2C%20which%20determines%20the%20higher%20credit%20spread%2C%20ceteris%20paribus.%0A%0A%5Csection*%7BConclusion%7D%0AStructural%20models%20constitute%20a%20fascinating%20tool%20to%20analyse%20firm%27s%20capital%20structure%20and%20the%20credit%20risk%20associated%20with%20the%20level%20of%20indebtedness.%20They%20provide%20a%20clear%20and%20understandable%20economic%20intuition%20on%20probabilities%20of%20default%20and%20credit%20spread.%20The%20simulation%20approach%20just%20shows%20how%20powerful%20and%20economically-coherent%20conclusions%20can%20be%20drawn%20by%20using%20these%20models.%20Such%20models%20can%20be%20enhanced%20by%20relaxing%20some%20strict%20assumptions%20and%20should%20represented%20the%20cornerstone%20for%20any%20business%20involved%20in%20corporate%20lending%20and%20credit%20risk%20assessment.%20%0A%0A%0A%0A%0A%0A%0A%0A%0A%25%5Cinclude%7B2.cds%7D%0A%25%5Cinclude%7B3.copulas%7D%0A%25%5Cinclude%7BA.appendix%7D%0A%25%5Cinclude%7BB.appendix%7D%0A%0A%0A%0A%0A%0A%20%20%20%20%25%20Add%20a%20bibliography%20block%20to%20the%20postdoc%0A%25%5Cnocite%7B*%7D%0A%5Cprintbibliography%0A%25%25%25%25%25%25%20TIP%3A%20use%20%5Cparencite%7BMerton1974%7D%20for%20"(Merton%2C%201974)"%0A%25%25%25%25%25%25%20and%20%5Ctextcite%7B%7BMerton1974%7D%20for%20"Merton%20(1974)".%0A%0A%0A%0A%0A%20%20%20%20%0A%5Cend%7Bdocument%7D%0A%0A

